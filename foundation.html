<script>
  document.addEventListener("DOMContentLoaded", () => {
    const isAdmin = localStorage.getItem("adminLoggedIn");

    if (!isAdmin || isAdmin !== "true") {
      window.location.href = "/admin-login.html";
    }

    // Örnek: İlk açılışta admin panelini getir
    fetch("admin-panel.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("main-content").innerHTML = html;
        history.pushState({}, "", "/admin-panel");
      });
  });

  // SPA Navigasyon (menü butonları çağırdığında sayfayı yükle)
  function navigateTo(pagePath, pageTitle) {
    fetch(pagePath)
      .then(res => res.text())
      .then(html => {
        document.getElementById("main-content").innerHTML = html;
        history.pushState({}, "", pageTitle);
      });
  }

  // Geri tuşları için SPA desteği
  window.onpopstate = () => {
    const currentPath = location.pathname.replace("/", "") || "admin-panel.html";
    fetch(currentPath)
      .then(res => res.text())
      .then(html => {
        document.getElementById("main-content").innerHTML = html;
      });
  };
</script>
